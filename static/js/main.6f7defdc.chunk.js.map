{"version":3,"sources":["components/navigation/navigation.module.scss","components/main/users/users-item/users-item.module.scss","utils/objects-helpers.js","redux/users-reducer.js","assets/img/userPhoto.jpg","components/main/users/users-item/index.js","components/main/users/users-item/users-item.js","components/common/paginator/paginator.js","components/main/users/users.js","redux/users-selectors.js","components/main/users/users-container.js","components/main/users/index.js","hoc/Suspense.js","components/main/main.js","components/navigation/navigation.js","components/header/header.js","components/header/headerContainer.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","redux/auth-reducer.js","components/common/index.js","components/common/preloader.js","components/header/header.module.scss","components/main/users/users.module.scss","redux/profile-reducer.js","api/api.js","redux/dialogs-reducer.js","components/main/main.module.scss","components/common/preloader.module.scss"],"names":["module","exports","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","userId","type","unfollowSuccess","setUsers","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","state","action","followed","count","filter","id","UsersItem","className","UsersItemStyles","wrapper","to","content","img_wrap","profile_img","src","photos","small","userPhoto","alt","data_wrap","personal_data","text_bold","name","disabled","some","onClick","unFollow","btn_unfollow","follow","Button","styled","button","Btn_checked","span","props","classValue","Container","div","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setportionNumber","leftPortionPageNumber","rightPortionPageNumber","p","item","Users","usersStyles","title","getUsers","getUsersCount","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","this","React","Component","compose","connect","usersAPI","bind","response","totalCount","SuspenseHoc","fallback","Dialogs","lazy","ProfileContainer","Login","Main","ModuleStyle","exact","path","render","Navigation","Nav","nav","activeClassName","active","icon","process","width","navText","Header","style","header","isAuth","login","logout","log_out","HeaderContainer","authReducer","getAuthUserData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profileReducer","dialogsReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","App","catchAllUnhandledErrors","promiseRejectionEvent","console","log","initializeApp","addEventListener","removeEventListener","AppWithRouter","withRouter","promise","Promise","all","then","JSApp","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","authAPI","password","rememberMe","captcha","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityAPI","url","Preloader","preloaderStyle","loader","UPDATE_NEW_POST_TEXT","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SET_PHOTO","posts","text","img","likesCount","profile","status","addPost","newPost","setStatus","getProfile","profileAPI","getStatus","updateStatus","alert","savePhoto","file","body","newPostText","newText","post","postId","instance","axios","withCredentials","baseURL","headers","get","delete","put","formData","FormData","append","ADD_MESSAGE","dialogs","addMessageActionCreator","newMessageBody"],"mappings":"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","file":"static/js/main.6f7defdc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navigation_nav__30_-l\",\"active\":\"navigation_active__3mURm\",\"item\":\"navigation_item__23ePg\",\"icon\":\"navigation_icon__ChQ60\",\"navText\":\"navigation_navText__3h_15\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"users-item_wrapper__Szy6M\",\"data_wrap\":\"users-item_data_wrap__2FOYr\",\"content\":\"users-item_content__tB4Xk\",\"profile_img\":\"users-item_profile_img__3dcdN\",\"btn_unfollow\":\"users-item_btn_unfollow__33pzN\",\"text_bold\":\"users-item_text_bold__19QoJ\"};","import { actionTypes } from \"redux-form\"\r\n\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u\r\n  })\r\n}\r\n","import { usersAPI } from \"../api/api\"\r\nimport { updateObjectInArray } from \"../utils/objects-helpers\"\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      }\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users }\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n})\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n})\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n})\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(currentPage))\r\n    let response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId))\r\n  let response = await apiMethod(userId)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport const unFollow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(\r\n    dispatch,\r\n    userId,\r\n    usersAPI.unFollow.bind(usersAPI),\r\n    unfollowSuccess\r\n  )\r\n}\r\n\r\nexport default usersReducer\r\n","export default __webpack_public_path__ + \"static/media/userPhoto.0c22186a.jpg\";","import UsersItem from \"./users-item\"\r\nexport default UsersItem\r\n","import React from \"react\"\r\nimport UsersItemStyles from \"./users-item.module.scss\"\r\nimport userPhoto from \"../../../../assets/img/userPhoto.jpg\"\r\nimport { NavLink } from \"react-router-dom\"\r\nconst UsersItem = (state) => {\r\n  return (\r\n\r\n    <article className={UsersItemStyles.wrapper}>\r\n\r\n      <NavLink to={`/profile/${state.id}`}>\r\n        <div className={UsersItemStyles.content}>\r\n          <div className={UsersItemStyles.img_wrap}>\r\n            <img\r\n              className={UsersItemStyles.profile_img}\r\n              src={state.photos.small != null ? state.photos.small : userPhoto}\r\n              alt=\"User photo\"\r\n            />\r\n\r\n          </div>\r\n          <div className={UsersItemStyles.data_wrap}>\r\n            <div className={UsersItemStyles.personal_data}>\r\n              <p className={UsersItemStyles.text_bold}>\r\n                {state.name}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </NavLink>\r\n        <div>\r\n          {state.followed ? (\r\n            <button\r\n              disabled={state.followingInProgress.some((id) => id === state.id)}\r\n              onClick={() => state.unFollow(state.id)} className={UsersItemStyles.btn_unfollow}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={state.followingInProgress.some((id) => id === state.id)}\r\n              onClick={() => state.follow(state.id)} className={'btn'}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n    </article>\r\n\r\n  )\r\n}\r\nexport default UsersItem\r\n","import React, { useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nconst Button = styled.button`\r\ncolor: white;\r\nborder: none;\r\nborder-radius: 5px;\r\npadding: 0px 15px;\r\nheight: 100%;\r\nbackground-color: #2f69ff;\r\n`\r\nconst Btn_checked = styled.span`\r\ndisplay:flex;\r\nalign-items: center;\r\njustify-content: center;\r\n  padding: 0px 7px;\r\n  font-size: 16px;\r\n  background: ${(props) => props.currentPage === props.classValue ? \"#2f69ff\" : \"#fff\"};\r\n  border: 1px solid rgba(0,0,0,0.1);\r\n  color: ${(props) => props.currentPage === props.classValue && \"white\"};\r\n  height: 100%;\r\n`\r\nconst Container = styled.div`\r\nheight: 35px;\r\ndisplay:flex;\r\nalign-items: center;\r\nmargin-bottom: 5px;\r\njustify-content: center;\r\n`\r\nconst Paginator = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n  let pages = []\r\n  for (let i = 1; i < pagesCount; i++) {\r\n    pages.push(i)\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize)\r\n  const [portionNumber, setportionNumber] = useState(1)\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n  let rightPortionPageNumber = portionNumber * portionSize\r\n  return (\r\n    <Container>\r\n      {portionNumber > 1 && (\r\n        <Button\r\n          onClick={() => {\r\n            setportionNumber(portionNumber - 1)\r\n          }}\r\n        >\r\n          Prev\r\n        </Button>\r\n      )}\r\n      {pages\r\n        .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((item) => {\r\n          return (\r\n            <Btn_checked\r\n              key={item}\r\n              onClick={() => {\r\n                onPageChanged(item)\r\n              }}\r\n              currentPage={currentPage}\r\n              classValue={item}\r\n            >\r\n              {item}\r\n            </Btn_checked>\r\n          )\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <Button\r\n          onClick={() => {\r\n            setportionNumber(portionNumber + 1)\r\n          }}\r\n        >\r\n          Next\r\n        </Button>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Paginator\r\n","import React from \"react\"\r\nimport usersStyles from \"./users.module.scss\"\r\nimport UsersItem from \"./users-item\"\r\nimport Paginator from \"../../common/paginator/paginator\"\r\nconst Users = ({\r\n  currentPage,\r\n  onPageChanged,\r\n  pageSize,\r\n  totalUsersCount,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <section className={usersStyles.wrapper}>\r\n\r\n        <h2 className={usersStyles.title}>Users</h2>\r\n        {props.users.map((item) => {\r\n          return <UsersItem key={item.id} {...item} {...props} />\r\n        })}\r\n        <Paginator\r\n          totalUsersCount={totalUsersCount}\r\n          currentPage={currentPage}\r\n          onPageChanged={onPageChanged}\r\n          pageSize={pageSize}\r\n        />\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers = (state) => {\r\n  return state.usersReducer.users\r\n}\r\nexport const getUsersCount = (state) => {\r\n  return state.usersReducer.totalUsersCount\r\n}\r\nexport const getPageSize = (state) => {\r\n  return state.usersReducer.pageSize\r\n}\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersReducer.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n  return state.usersReducer.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersReducer.followingInProgress\r\n}\r\n","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport {\r\n  follow,\r\n  unFollow,\r\n  setCurrentPage,\r\n  requestUsers,\r\n} from \"../../../redux/users-reducer\"\r\nimport Users from \"./users\"\r\nimport Preloader from \"../../common\"\r\nimport { compose } from \"redux\"\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getUsers,\r\n  getUsersCount,\r\n} from \"../../../redux/users-selectors\"\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props\r\n    this.props.getUsers(currentPage, pageSize)\r\n  }\r\n  onPageChanged = (pageNumber) => {\r\n    const { pageSize } = this.props\r\n    this.props.getUsers(pageNumber, pageSize)\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n\r\n        <Users\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unFollow={this.props.unFollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersReducer.users,\r\n//     pageSize: state.usersReducer.pageSize,\r\n//     currentPage: state.usersReducer.currentPage,\r\n//     isFetching: state.usersReducer.isFetching,\r\n//     followingInProgress: state.usersReducer.followingInProgress,\r\n//   }\r\n// }\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    totalUsersCount: getUsersCount(state),\r\n  }\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    setCurrentPage,\r\n    getUsers: requestUsers,\r\n  })\r\n)(UsersContainer)\r\n","import UsersContainer from \"./users-container\"\r\nexport default UsersContainer\r\n","import { Suspense } from \"react\"\r\nimport Preloader from \"../components/common/preloader\"\r\n\r\nexport default function SuspenseHoc(Component) {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component />\r\n      </Suspense>\r\n    )\r\n  }\r\n}\r\n","import React, { Suspense } from \"react\"\r\n\r\nimport ModuleStyle from \"./main.module.scss\"\r\n\r\nimport UsersContainer from \"./users\"\r\nimport { Redirect, Route, Switch } from \"react-router-dom\"\r\nimport SuspenseHoc from \"../../hoc/Suspense\"\r\nconst Dialogs = React.lazy(() => import(\"./dialogs\"))\r\nconst ProfileContainer = React.lazy(() => import(\"./profile\"))\r\nconst Login = React.lazy(() => import(\"./login/login\"))\r\nconst Main = () => {\r\n  return (\r\n    <div className={ModuleStyle.wrapper}>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Redirect to=\"/profile\" />\r\n        </Route>\r\n        <Route path=\"/profile/:userId?\" render={SuspenseHoc(ProfileContainer)} />\r\n        <Route path=\"/dialog\" render={SuspenseHoc(Dialogs)} />\r\n        <Route path=\"/users\" render={SuspenseHoc(UsersContainer)} />\r\n        <Route path=\"/login\" render={SuspenseHoc(Login)} />\r\n        <Route path=\"*\" render={() => <div>404 Error</div>} />\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from \"react\"\r\nimport {BrowserRouter, NavLink} from \"react-router-dom\"\r\nimport Nav from \"./navigation.module.scss\"\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <nav className={Nav.nav}>\r\n      <ul>\r\n        <NavLink to=\"/profile\" activeClassName={Nav.active}>\r\n          <li className={Nav.item}>\r\n            <div className={Nav.icon}>\r\n              <img src={process.env.PUBLIC_URL + '/img/icons/profile.png'} alt=\"profile\" width={\"25px\"}/>\r\n            </div>\r\n            <p className={Nav.navText}>\r\n              Profile\r\n            </p>\r\n          </li>\r\n        </NavLink>\r\n        <NavLink to=\"/dialog\" activeClassName={Nav.active}>\r\n          <li className={Nav.item}>\r\n            <div className={Nav.icon}>\r\n              <img src={process.env.PUBLIC_URL + '/img/icons/messages.png'} alt=\"profile\" width={\"25px\"}/>\r\n            </div>\r\n            <p className={Nav.navText}>\r\n              Messages\r\n            </p>\r\n          </li>\r\n        </NavLink>\r\n        <NavLink to=\"/users\" activeClassName={Nav.active}>\r\n          <li className={Nav.item}>\r\n            <div className={Nav.icon}>\r\n              <img src={process.env.PUBLIC_URL + '/img/icons/users.png'} alt=\"profile\" width={\"25px\"}/>\r\n            </div>\r\n            <p className={Nav.navText}>\r\n              Users\r\n            </p>\r\n          </li>\r\n        </NavLink>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navigation\r\n","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\"\r\n\r\nimport style from \"./header.module.scss\"\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <div className={style.wrapper}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} - <button onClick={props.logout} className={style.log_out}>Log out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>{props.isAuth ? props.login : `Login`}</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\"\r\nimport Header from \"./header\"\r\nimport { connect } from \"react-redux\"\r\nimport { getAuthUserData, logout } from \"../../redux/auth-reducer\"\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.authReducer.isAuth,\r\n    login: state.authReducer.login,\r\n  }\r\n}\r\nexport default connect(mapStateToProps, { getAuthUserData, logout })(HeaderContainer)\r\n","import { getAuthUserData } from \"./auth-reducer\"\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData())\r\n\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\nexport default appReducer\r\n","let initialState = {}\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer, { getUsers } from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport appReducer from \"./app-reducer\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from \"redux-form\"\r\n\r\nlet reducers = combineReducers({\r\n  usersReducer,\r\n  profileReducer,\r\n  dialogsReducer,\r\n  sidebarReducer,\r\n  authReducer,\r\n  appReducer,\r\n  form: formReducer,\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n)\r\n\r\nexport default store\r\n","import React from \"react\"\r\nimport Main from \"./components/main/main\"\r\nimport Navigation from \"./components/navigation/navigation\"\r\nimport \"./App.scss\"\r\nimport { HashRouter, withRouter } from \"react-router-dom\"\r\nimport HeaderContainer from \"./components/header/headerContainer\"\r\nimport { connect, Provider } from \"react-redux\"\r\nimport { initializeApp } from \"./redux/app-reducer\"\r\nimport Preloader from \"./components/common\"\r\nimport { compose } from \"redux\"\r\nimport store from \"./redux/redux-store\"\r\n\r\nclass App extends React.Component {\r\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n    console.log(promiseRejectionEvent)\r\n  }\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <HeaderContainer />\r\n        <Navigation />\r\n        <div className=\"app-wrapper-content\">\r\n          <Main />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.appReducer.initialized,\r\n})\r\n\r\nlet AppWithRouter = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp })\r\n)(App)\r\n\r\nlet JSApp = (props) => {\r\n  return (\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <AppWithRouter />\r\n      </Provider>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport default JSApp\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport JSApp from \"./App\"\r\nimport \"./App.scss\"\r\n\r\nReactDOM.render(\r\n  <>\r\n    <JSApp />,\r\n  </>,\r\n  document.getElementById(\"root\")\r\n)\r\n","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI, securityAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\"\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\"\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {\r\n    userId,\r\n    email,\r\n    login,\r\n    isAuth,\r\n  },\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: captchaUrl,\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.getAuthUserData()\r\n  if (response.data.resultCode === 0) {\r\n    let { id, login, email } = response.data.data\r\n    dispatch(setAuthUserData(id, login, email, true))\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl())\r\n    }\r\n    let message =\r\n      response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n    dispatch(stopSubmit(\"login\", { _error: message }))\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout()\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = response.data.url\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\nexport default authReducer\r\n","import Preloader from \"./preloader\"\r\nexport default Preloader\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport preloaderStyle from \"./preloader.module.scss\"\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className={preloaderStyle.loader}>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1qn2P\",\"log_out\":\"header_log_out__HsHGJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"users_title__3yEPm\",\"btn\":\"users_btn__W6xVq\",\"btn_checked\":\"users_btn_checked__2uviU\",\"wrapper\":\"users_wrapper__9GTT8\"};","import { profileAPI } from \"../api/api\"\r\n\r\nconst UPDATE_NEW_POST_TEXT = \"UPDATE_NEW_POST_TEXT\"\r\nconst ADD_POST = \"ADD_POST\"\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\"\r\nconst SET_STATUS = \"SET_STATUS\"\r\nconst DELETE_POST = \"DELETE_POST\"\r\nconst SET_PHOTO = \"SET_PHOTO\"\r\nlet initialState = {\r\n  posts: [\r\n    {\r\n      id: 1,\r\n      text: \"Why suspense don't work?\",\r\n      img:\r\n        \"https://image.shutterstock.com/image-photo/roman-legionary-soldier-army-reenactment-600w-789836029.jpg\",\r\n      likesCount: 1,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: \"Why Redux is so hard?\",\r\n      img:\r\n        \"https://turningpointsoftheancientworld.com/wp-content/uploads/2018/08/Augustan-legionary3-1-672x372.jpg\",\r\n      likesCount: 11,\r\n    },\r\n    {\r\n      id: 3,\r\n      text: \"How to create node server API?\",\r\n      img: \"https://cdn.wallpapersafari.com/46/90/i5B8yG.jpg\",\r\n      likesCount: 14,\r\n    },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let body = action.newPost\r\n      return {\r\n        ...state,\r\n        posts: [\r\n          ...state.posts,\r\n          {\r\n            id: 6,\r\n            text: body,\r\n            img: \"https://cdn.wallpapersafari.com/46/90/i5B8yG.jpg\",\r\n            likesCount: 90,\r\n          },\r\n        ],\r\n      }\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status }\r\n    }\r\n    case SET_PHOTO: {\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n    }\r\n    case UPDATE_NEW_POST_TEXT: {\r\n      return { ...state, newPostText: action.newText }\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post.id != action.postId),\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport const deletePost = (postId) => ({\r\n  type: DELETE_POST,\r\n  postId,\r\n})\r\nexport const addPost = (newPost) => ({ type: ADD_POST, newPost })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n})\r\nexport const savePhotoSuccess = (photos) => ({ type: SET_PHOTO, photos })\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status))\r\n    }\r\n  } catch (error) {\r\n    alert(error)\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(file)\r\n  debugger\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos))\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import * as axios from \"axios\"\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"cfd2697b-54f4-44ec-ac87-b52b20963435\",\r\n  },\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data\r\n      })\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unFollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getAuthUserData() {\r\n    return instance.get(\"auth/me\").then((response) => {\r\n      return response.data\r\n    })\r\n  },\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status })\r\n  },\r\n  savePhoto(file) {\r\n    const formData = new FormData()\r\n    formData.append(\"image\", file)\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    })\r\n  },\r\n}\r\nexport const authAPI = {\r\n  getAuthUserData() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`)\r\n  },\r\n}\r\n","const ADD_MESSAGE = \"ADD_MESSAGE\"\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      name: \"Andrew\",\r\n    },\r\n    { id: 2, name: \"Max\" },\r\n    { id: 3, name: \"Nikita\" },\r\n    { id: 4, name: \"Dimich\" },\r\n    { id: 5, name: \"Mary\" },\r\n    { id: 6, name: \"Tom\" },\r\n  ],\r\n\r\n  messages: [\r\n    {\r\n      id: 1,\r\n      message: \"Hi\",\r\n    },\r\n    {\r\n      id: 2,\r\n      message: \"How are you?\",\r\n    },\r\n    {\r\n      id: 3,\r\n      message: \"Welcome back\",\r\n    },\r\n    {\r\n      id: 4,\r\n      message: \"Goodbye\",\r\n    },\r\n    {\r\n      id: 5,\r\n      message: \"We are on our way\",\r\n    },\r\n    {\r\n      id: 6,\r\n      message: \"No chance\",\r\n    },\r\n  ],\r\n}\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      let body = action.newMessageBody\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 7, message: body }],\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\nexport const addMessageActionCreator = (newMessageBody) => ({\r\n  type: ADD_MESSAGE,\r\n  newMessageBody,\r\n})\r\n\r\nexport default dialogsReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"main_wrapper__3cbck\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"preloader_loader__2Zqm0\"};"],"sourceRoot":""}